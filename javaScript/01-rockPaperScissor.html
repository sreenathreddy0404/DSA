<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissor</title>
</head>
<body>
    <h1>Choose the move</h1>
    <button onclick = "playGame('Rock')">Rock</button>
    <button onclick = "playGame('Paper')">Paper</button>
    <button onclick = "playGame('Scissors')">Scissors</button>
    <p id = "display"></p>
    <p>Wins = <span id = "win"></span>,
    Losses = <span id = "loss"></span>,
    Ties = <span id = "tie"></span></p>
    <button onclick="resetScore()">Reset Score</button>
    <script>
        
        let score = JSON.parse(localStorage.getItem('score'));
            if (!score) {
                score = {
                    win: 0,
                    loss: 0,
                    tie: 0
                }
            }
        displayScore();

        function pickComputerMove() {
            const moves = ['Rock', 'Paper', 'Scissors'];
            const randomIndex = Math.floor(Math.random() * 3);
            return moves[randomIndex];
        }

        function playGame(PlayerMove) {
            const computerMove = pickComputerMove();
            let result = '';
            if (PlayerMove === 'Rock') {
                if (computerMove === 'Paper') {
                   result = 'You Loss';
                } else if (computerMove === 'Rock') {
                   result = 'Tie';
                } else {
                    result = 'You Win';
                }
            }
            else if (PlayerMove === 'Paper') {
                if (computerMove === 'Paper') {
                    result = 'Tie';
                } else if (computerMove === 'Rock') {
                    result = 'You Win';
                } else {
                    result = 'You Loss';
                }
            }
            else {
                if (computerMove === 'Paper') {
                    result = 'You Win';
                } else if (computerMove === 'Rock') {
                    result = 'You Loss';
                } else {
                    result = 'Tie';
                }
            }
             if (result === 'You Win') {
                score.win++;
            } else if (result === 'You Loss') {
                score.loss++;
            } else{
                score.tie++;
            }
            document.getElementById('display').innerHTML = `You Picked ${PlayerMove}, Computer Picked ${computerMove}. ${result}`;
            localStorage.setItem('score', JSON.stringify(score));
            displayScore(result);
            // console.log(score);
            // alert(`You Picked ${PlayerMove}, Computer Picked ${computerMove}. ${result}`);
        }

        function displayScore(){
            
            document.getElementById('win').innerHTML = score.win;
            document.getElementById('loss').innerHTML = score.loss;
            document.getElementById('tie').innerHTML = score.tie;
        }
        localStorage.removeItem("scoreStorage");
        function resetScore(){
            document.getElementById('display').innerHTML ="";
            score.win = 0;
            score.loss = 0;
            score.tie = 0;
            localStorage.removeItem('score');
            displayScore();
            
        }
    </script>
</body>
</html>